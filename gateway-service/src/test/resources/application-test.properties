# Test Configuration for Gateway Service
# Spring Cloud Gateway Routes Configuration for Testing

# User Service Test Route
spring.cloud.gateway.routes[0].id=user-service-test
spring.cloud.gateway.routes[0].uri=http://localhost:8081
spring.cloud.gateway.routes[0].predicates[0]=Path=/user/**
spring.cloud.gateway.routes[0].filters[0].name=Retry
spring.cloud.gateway.routes[0].filters[0].args.retries=3
spring.cloud.gateway.routes[0].filters[0].args.statuses=BAD_GATEWAY,SERVICE_UNAVAILABLE,GATEWAY_TIMEOUT
spring.cloud.gateway.routes[0].filters[0].args.methods=GET,POST,PUT,DELETE
spring.cloud.gateway.routes[0].filters[0].args.backoff.firstBackoff=50ms
spring.cloud.gateway.routes[0].filters[0].args.backoff.maxBackoff=500ms
spring.cloud.gateway.routes[0].filters[0].args.backoff.factor=2
spring.cloud.gateway.routes[0].filters[0].args.backoff.basedOnPreviousValue=false

# Product Service Test Route
spring.cloud.gateway.routes[1].id=product-service-test
spring.cloud.gateway.routes[1].uri=http://localhost:8082
spring.cloud.gateway.routes[1].predicates[0]=Path=/product/**
spring.cloud.gateway.routes[1].filters[0].name=Retry
spring.cloud.gateway.routes[1].filters[0].args.retries=3
spring.cloud.gateway.routes[1].filters[0].args.statuses=BAD_GATEWAY,SERVICE_UNAVAILABLE,GATEWAY_TIMEOUT
spring.cloud.gateway.routes[1].filters[0].args.methods=GET,POST,PUT,DELETE
spring.cloud.gateway.routes[1].filters[0].args.backoff.firstBackoff=50ms
spring.cloud.gateway.routes[1].filters[0].args.backoff.maxBackoff=500ms
spring.cloud.gateway.routes[1].filters[0].args.backoff.factor=2
spring.cloud.gateway.routes[1].filters[0].args.backoff.basedOnPreviousValue=false

# HTTP Client Configuration for Testing
spring.cloud.gateway.httpclient.connect-timeout=2000
spring.cloud.gateway.httpclient.response-timeout=3s

# Logging Configuration for Tests
logging.level.com.example.gateway=DEBUG
logging.level.org.springframework.cloud.gateway=DEBUG